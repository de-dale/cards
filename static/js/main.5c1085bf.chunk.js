(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{69:function(e,t,r){},76:function(e,t,r){},77:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(14),i=r.n(c),s=(r(68),r(69),r(6)),l=r(85),d=r(84),o=r(61),u=r(86),j=r(63),b=r(60),h=r(87),m=r(89),O=r(37),x=function(){return Object(O.b)()},f=O.c,p=r(58),y=r(57),v=r.n(y),g=r(59),k=r(38),C=r(24);function L(e){return fetch(e).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then((function(e){return Object(C.a)(e).map((function(e){return{name:e.name,content:e.content}}))}))}var w=Object(k.b)("playground/loadLibrary",function(){var e=Object(g.a)(v.a.mark((function e(t,r){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:a=e.sent,r.dispatch(S(a));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),M=Object(k.c)({name:"playground",initialState:{library:[],hand:[],battlefield:[],graveyard:[],stack:[],exile:[],command:[],status:"idle"},reducers:{draw:function(e){if(0!==e.library.length){var t=Object(p.a)(e.library),r=t[0],a=t.slice(1);e.hand.push(r),e.library=a}},addDeckToLibrary:function(e,t){e.library=e.library.concat(t.payload)},addCardToLibrary:function(e,t){e.library.push(t.payload)},discardAll:function(e){e.graveyard=e.graveyard.concat(e.hand),e.hand=[]},discardByIndex:function(e,t){var r=e.hand.splice(t.payload,1);e.graveyard=e.graveyard.concat(r)},putBelowLibrary:function(e){e.library=e.library.concat(e.graveyard),e.graveyard=[]},shuffleLibrary:function(e){!function(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),a=[e[r],e[t]];e[t]=a[0],e[r]=a[1]}}(e.library)}},extraReducers:function(e){e.addCase(w.pending,(function(e){e.status="loading"})).addCase(w.fulfilled,(function(e,t){e.status="idle"}))}}),N=M.actions,F=N.addCardToLibrary,S=N.addDeckToLibrary,B=N.discardAll,D=N.discardByIndex,I=N.draw,T=N.putBelowLibrary,P=N.shuffleLibrary,q=function(e){return e.playground},z=M.reducer,R=r(88),E=r(1);function H(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),r=t[0],n=t[1],c=function(){return n(!1)};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(b.a,{variant:"primary",className:"me-2",onClick:function(){return n(!0)},children:"Outils"}),Object(E.jsxs)(h.a,{show:r,onHide:c,children:[Object(E.jsx)(h.a.Header,{closeButton:!0,children:Object(E.jsx)(h.a.Title,{children:"Outils"})}),Object(E.jsxs)(h.a.Body,{children:[Object(E.jsx)(U,{close:function(){return c()}}),Object(E.jsx)(V,{close:function(){return c()}})]})]})]})}function U(e){var t=e.close,r=Object(a.useState)(!1),n=Object(s.a)(r,2),c=n[0],i=n[1],l=Object(a.useState)(!1),d=Object(s.a)(l,2),o=d[0],u=d[1],j=x();return Object(E.jsxs)(R.a,{noValidate:!0,validated:c,onSubmit:function(e){return function(e){var r=e.currentTarget;e.preventDefault(),r.checkValidity()?(j(F({name:r.cardName.value,content:r.cardContent.value})),o&&t()):e.stopPropagation(),u(!1),i(!0)}(e)},className:"mt-3",children:[Object(E.jsx)(R.a.Label,{children:"Cr\xe9er une carte"}),Object(E.jsx)(R.a.Control,{id:"cardName",required:!0,type:"text",placeholder:"Nom de la carte"}),Object(E.jsx)(R.a.Control.Feedback,{type:"invalid",children:"Une carte doit avoir un nom"}),Object(E.jsx)(R.a.Control,{as:"textarea",rows:3,className:"mt-1",id:"cardContent",required:!0,style:{height:"100px"},placeholder:"Effets de la carte"}),Object(E.jsx)(R.a.Control.Feedback,{type:"invalid",children:"Une carte doit avoir des effets"}),Object(E.jsx)(b.a,{type:"submit",className:"mt-3 me-2",children:"Cr\xe9er"}),Object(E.jsx)(b.a,{type:"submit",className:"mt-3",onClick:function(){return u(!0)},children:"Cr\xe9er et fermer"})]})}function V(e){var t=e.close,r=Object(a.useState)(!1),n=Object(s.a)(r,2),c=n[0],i=n[1],l=Object(a.useState)(!1),d=Object(s.a)(l,2),o=d[0],u=d[1],j=x();return Object(E.jsxs)(R.a,{noValidate:!0,validated:c,onSubmit:function(e){return function(e){var r=e.currentTarget;if(e.preventDefault(),r.checkValidity()){var a=r.deckUrl.value;j(w(a)),o&&t()}else e.stopPropagation();u(!1),i(!0)}(e)},className:"mt-3",children:[Object(E.jsx)(R.a.Label,{children:"Importer un deck existant"}),Object(E.jsx)(R.a.Control,{id:"deckUrl",required:!0,type:"text",placeholder:"URL vers le deck \xe0 charger"}),Object(E.jsx)(R.a.Control.Feedback,{type:"invalid",children:"Une carte doit avoir un nom"}),Object(E.jsx)(b.a,{type:"submit",className:"mt-3 me-2",children:"Importer"}),Object(E.jsx)(b.a,{type:"submit",className:"mt-3",onClick:function(){return u(!0)},children:"Importer et fermer"})]})}var A=r(83),J=r(90);function G(e){var t=e.card,r=e.actions,n=void 0===r?[]:r,c=e.hidden,i=void 0!==c&&c,l=e.revealable,d=void 0!==l&&l,u=Object(a.useState)(!i),j=Object(s.a)(u,2),h=j[0],m=j[1];return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(o.a,{children:[!h&&Object(E.jsxs)(J.a,{style:{width:"18rem",height:"12rem"},children:[Object(E.jsx)(J.a.Header,{as:"h5",children:" *** "}),Object(E.jsx)(J.a.Body,{children:" *** "}),Object(E.jsx)(J.a.Footer,{children:d&&Object(E.jsx)(b.a,{size:"sm",variant:"secondary",onClick:function(){return m(!h)},"aria-label":"R\xe9v\xe9ler",children:"R\xe9v\xe9ler"})})]}),h&&Object(E.jsxs)(J.a,{style:{width:"18rem",height:"12rem"},children:[Object(E.jsx)(J.a.Header,{as:"h5",children:t.name}),Object(E.jsx)(J.a.Body,{style:{overflow:"auto"},children:Object(E.jsx)(J.a.Text,{children:t.content})}),(0<n.length||d)&&Object(E.jsxs)(J.a.Footer,{children:[n.map((function(e,t){return Object(E.jsx)(b.a,{size:"sm",onClick:function(){return e.action()},"aria-label":e.label,children:e.label},t)})),d&&Object(E.jsx)(b.a,{size:"sm",variant:"secondary",onClick:function(){return m(!h)},"aria-label":"Masquer",children:"Masquer"})]})]})]})})}function K(e){var t=e.library,r=x();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("h2",{children:["Pioche : ",t.length]}),Object(E.jsxs)(A.a,{children:[Object(E.jsx)(b.a,{size:"sm",className:"me-2",onClick:function(){return r(I())},"aria-label":"Pioche",children:"Pioche"}),Object(E.jsx)(b.a,{size:"sm",variant:"primary",onClick:function(){return r(P())},"aria-label":"M\xe9langer",children:"M\xe9langer"})]}),Object(E.jsx)(d.a,{xs:1,md:1,className:"g-4",children:t.map((function(e,t){return Object(E.jsx)(G,{card:e,hidden:!0,revealable:!0},t)}))})]})}function Q(e){var t=e.hand,r=x();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("h2",{children:["La Main : ",t.length]}),Object(E.jsx)(A.a,{children:Object(E.jsx)(b.a,{size:"sm",variant:"primary",onClick:function(){return r(B())},"aria-label":"D\xe9fausser la main",children:"D\xe9fausser la main"})}),Object(E.jsx)(d.a,{xs:1,md:3,className:"g-4",children:t.map((function(e,t){return Object(E.jsx)(G,{card:e,actions:[{label:"D\xe9fausser",action:function(){return r(D(t))}}]},t)}))})]})}function W(e){var t=e.graveyard,r=x();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("h2",{children:["La D\xe9fausse : ",t.length]}),Object(E.jsx)(A.a,{children:Object(E.jsx)(b.a,{size:"sm",onClick:function(){return r(T())},"aria-label":"Remettre sous la pioche",children:"Remettre sous la pioche"})}),Object(E.jsx)(d.a,{xs:1,md:1,className:"g-4",children:t.map((function(e,t){return Object(E.jsx)(G,{card:e},t)}))})]})}var X=[{name:"Le Fou",content:"Le Fou est une des seules cartes sans num\xe9ro dans la plupart des variantes du tarot de Marseille"},{name:"Le Bateleur",content:"Le Bateleur est la premi\xe8re carte du tarot de Marseille. Elle suit peut-\xeatre la carte sans num\xe9ro Le Mat. Sa lame figure un jeune homme coiff\xe9 d'un large chapeau (en forme de lemniscat) se tenant debout devant une table sur laquelle sont dispos\xe9s diff\xe9rents objets pour r\xe9aliser des tours de passe passe."},{name:"La Papesse",content:"La Papesse est la deuxi\xe8me carte du tarot de Marseille."},{name:"L'Imp\xe9ratrice",content:"L'Imp\xe9ratrice est la troisi\xe8me carte du tarot de Marseille."},{name:"L'Empereur ",content:"L'Empereur est le 4e arcane des 22 arcanes majeurs du tarot de Marseille."}];function Y(){var e=f(q),t=x(),r=function(e){return e.library.concat(e.hand).concat(e.battlefield).concat(e.graveyard).concat(e.stack).concat(e.exile).concat(e.command)}(e);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h1",{children:"Playground"}),Object(E.jsxs)(l.a,{fluid:!0,children:[Object(E.jsxs)(d.a,{children:[Object(E.jsxs)(o.a,{children:[Object(E.jsx)(H,{}),Object(E.jsx)(Z,{deck:r})]}),Object(E.jsx)(o.a,{md:2,children:Object(E.jsxs)(u.a,{title:"Decks d'exemple",children:[Object(E.jsx)(j.a.Item,{onClick:function(){return t(S(X))},children:"Jeu de Tarot"}),Object(E.jsx)(j.a.Item,{onClick:function(){return t(w("https://raw.githubusercontent.com/de-dale/spherier/master/data/social-encounter.json"))},children:"Sph\xe9rier - Rencontres Sociales"})]})})]}),Object(E.jsx)(d.a,{children:Object(E.jsx)(o.a,{children:Object(E.jsx)($,{playground:e})})})]})]})}function Z(e){var t=e.deck,r=Object(a.useState)(!1),n=Object(s.a)(r,2),c=n[0],i=n[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(b.a,{variant:"primary",onClick:function(){return i(!0)},children:c?"Masquer le Deck":"Montrer le deck"}),Object(E.jsxs)(h.a,{show:c,onHide:function(){return i(!1)},placement:"end",children:[Object(E.jsx)(h.a.Header,{closeButton:!0,children:Object(E.jsxs)(h.a.Title,{children:["Deck Complet : ",t.length]})}),Object(E.jsx)(h.a.Body,{children:Object(E.jsx)(m.a,{children:t.map((function(e,t){return Object(E.jsxs)(m.a.Item,{children:[Object(E.jsx)("strong",{children:e.name}),Object(E.jsx)("div",{children:e.content})]},t)}))})})]})]})}function $(e){var t=e.playground;return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(d.a,{children:[Object(E.jsx)(o.a,{md:3,children:Object(E.jsx)(K,{library:t.library})}),Object(E.jsx)(o.a,{md:6,children:Object(E.jsx)(Q,{hand:t.hand})}),Object(E.jsx)(o.a,{md:3,children:Object(E.jsx)(W,{graveyard:t.graveyard})})]})})}r(76);var _=function(){return Object(E.jsx)("div",{className:"App",children:Object(E.jsx)(Y,{})})},ee=Object(k.a)({reducer:{playground:z}});i.a.render(Object(E.jsx)(n.a.StrictMode,{children:Object(E.jsx)(O.a,{store:ee,children:Object(E.jsx)(_,{})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.5c1085bf.chunk.js.map